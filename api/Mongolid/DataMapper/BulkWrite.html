<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Mongolid\DataMapper\BulkWrite | Mongolid ODM Api</title>

            <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/sami.css">
        <script src="../../js/jquery-1.11.1.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/typeahead.min.js"></script>
        <script src="../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Mongolid_DataMapper_BulkWrite" data-root-path="../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../index.html">Mongolid ODM Api</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../classes.html">Classes</a></li>
                                            <li><a href="../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../traits.html">Traits</a></li>
                    <li><a href="../../doc-index.html">Index</a></li>
                    <li><a href="../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../Mongolid.html">Mongolid</a></li><li class="backslash">\</li><li><a href="../../Mongolid/DataMapper.html">DataMapper</a></li><li class="backslash">\</li><li>BulkWrite</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            BulkWrite
                
        </h1>
    </div>

    <p>    class
    <strong>BulkWrite</strong>
</p>

        
    

            <div class="description">
            <p>This class is meant to provide a better API for handling
with bulk operations.</p>            <p>It's an incomplete and highly opinionated abstraction
but yet flexible, since you are able to access the
driver's API and can work with both ActiveRecord and
DataMapper, since this class relies on the Schema and
both classes implements HasSchemaInterface.</p>                    </div>
    
    
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_options">
                                        protected                                        array
                </td>
                <td>$options</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_bulkWrite">
                                        protected                                        <abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr>
                </td>
                <td>$bulkWrite</td>
                <td class="last"></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_schema">
                                        protected                                        <a href="../../Mongolid/Schema/Schema.html"><abbr title="Mongolid\Schema\Schema">Schema</abbr></a>
                </td>
                <td>$schema</td>
                <td class="last"></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<a href="../../Mongolid/Schema/HasSchemaInterface.html"><abbr title="Mongolid\Schema\HasSchemaInterface">HasSchemaInterface</abbr></a> $entity)
        
                                            <p>BulkWrite constructor.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getBulkWrite">getBulkWrite</a>()
        
                                            <p>Get the BulkWrite object to perform other operations
not covered by this class.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Mongolid\DataMapper\$this">$this</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_setBulkWrite">setBulkWrite</a>(<abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr> $bulkWrite)
        
                                            <p>Set BulkWrite object that will receive all operations
and later be executed.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method_updateOne">updateOne</a>(<abbr title="MongoDB\BSON\ObjectID">ObjectID</abbr>|string $id, array $dataToSet, array $options = [&#039;upsert&#039; =&gt; true])
        
                                            <p>Add an <code>update</code> operation to the Bulk, where only one record is updated, by <code>_id</code>.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="MongoDB\Driver\WriteResult">WriteResult</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_execute">execute</a>(int $writeConcern = 1)
        
                                            <p>Execute the BulkWrite, using a connection from the Pool.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at         line 45</div>
        <code>                    
    <strong>__construct</strong>(<a href="../../Mongolid/Schema/HasSchemaInterface.html"><abbr title="Mongolid\Schema\HasSchemaInterface">HasSchemaInterface</abbr></a> $entity)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>BulkWrite constructor.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Mongolid/Schema/HasSchemaInterface.html"><abbr title="Mongolid\Schema\HasSchemaInterface">HasSchemaInterface</abbr></a></td>
                <td>$entity</td>
                <td></td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getBulkWrite">
        <div class="location">at         line 57</div>
        <code>                    <abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr>
    <strong>getBulkWrite</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Get the BulkWrite object to perform other operations
not covered by this class.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setBulkWrite">
        <div class="location">at         line 70</div>
        <code>                    <abbr title="Mongolid\DataMapper\$this">$this</abbr>
    <strong>setBulkWrite</strong>(<abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr> $bulkWrite)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Set BulkWrite object that will receive all operations
and later be executed.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="MongoDB\Driver\BulkWrite">BulkWrite</abbr></td>
                <td>$bulkWrite</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Mongolid\DataMapper\$this">$this</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_updateOne">
        <div class="location">at         line 88</div>
        <code>                    
    <strong>updateOne</strong>(<abbr title="MongoDB\BSON\ObjectID">ObjectID</abbr>|string $id, array $dataToSet, array $options = [&#039;upsert&#039; =&gt; true])
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Add an <code>update</code> operation to the Bulk, where only one record is updated, by <code>_id</code>.</p>                    <p>Be aware that working with multiple levels of nesting on <code>$dataToSet</code> may have
an undesired behavior that could lead to data loss on a specific key.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="MongoDB\BSON\ObjectID">ObjectID</abbr>|string</td>
                <td>$id</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$dataToSet</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td></td>
            </tr>
            </table>

            
            
            
                            <h4>See also</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>https://docs.mongodb.com/manual/reference/operator/update/set/#set-top-level-fields</td>
                <td></td>
            </tr>
            </table>

                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_execute">
        <div class="location">at         line 105</div>
        <code>                    <abbr title="MongoDB\Driver\WriteResult">WriteResult</abbr>
    <strong>execute</strong>(int $writeConcern = 1)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Execute the BulkWrite, using a connection from the Pool.</p>                    <p>The collection is inferred from entity's collection name.</p>                            </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$writeConcern</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="MongoDB\Driver\WriteResult">WriteResult</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
